<?php 
$max_val = '5';
$progress = '50';	// Progress = (max_val) x 10
$text = 'text here';
$link = 'http://www.website.com';
$button = 'Share on Whatsapp';
$confirm = 'Confirm';
$url = 'https://google.com';
?>

<style>
	.sharing{ background: green; color:#fff; padding:10px 50px; margin:10px; text-decoration: none; letter-spacing: 2px; border-radius:4px; }
	.final{ background: orange; color:#fff; padding:10px 50px; margin:10px; text-decoration: none; letter-spacing: 2px; border-radius:4px;}
	p { padding: 5px; }
</style>
<center>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<progress id="progress" value='0' max='<?php echo $progress ?>'></progress>
<p><a class="step-wp whatsapp sharing" data-action="share/whatsapp/share" href="whatsapp://send?text=<?php echo $text ?>%0AðŸ‘‡ðŸ‘‡ðŸ‘‡ðŸ‘‡ðŸ‘‡ðŸ‘‡%0A<?php echo $link ?>"<a class='whatsapp' data-diff='10'><?php echo $button ?><span class="pull-right deliv"> </span> </a></p>
<script> var cl1 = 0; var max_val=<?php echo $max_val ?>; $('document').ready(function(){ $('.whatsapp').click(function(){ cl1++; }); $('.final').click(function(e){ if(cl1 < max_val){ alert("You need to share with <?php echo $max_val ?> Friends or Groups.  "+ eval(parseInt(max_val) - parseInt(cl1)) +" Share Remaining"); e.preventDefault();} else{ window.location.href='#'; }}); }); </script>
<p><a class="step-final final finals" hi="" href="<?php echo $url ?>" ><?php echo $confirm ?><span class="pull-right deliv"></span></a></p>
<script>$(".whatsapp").click(function () { animateProgress(parseInt($(this).data('diff'))); }); function animateProgress(diff) { var currValue = $("#progress").val(); var toValue = currValue + diff; toValue = toValue < 0 ? 0 : toValue; toValue = toValue > 100 ? 100 : toValue;$("#progress").animate({'value': toValue}, 500); }</script>
</center>
